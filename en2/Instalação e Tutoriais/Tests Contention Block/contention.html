<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kytos Installation Tutorial</title>
    <link rel="stylesheet" href="contention.css">
</head>
<body>

    <header>
        <div class="logo-group">
            <div class="logo">
                <img src="imagens/logo.PNG" alt="HackInSDN Logo">
            </div>
        </div>
        <nav>
            <ul>
                <li><a href="../../Index/index.html">Home</a></li>
                <li><a href="../../Tela_Sobre/sobre.html">About Us</a></li>
                <li><a href="../../Instalação e Tutoriais/tutorial.html">Tutorials</a></li>
                <li><a href="../../Blog/blog.html">Publications</a></li>
                <li><a href="../../https://dashboard.hackinsdn.ufba.br/login/" target="_blank">Dashboard</a></li>
            </ul>
        </nav>

        <nav class="menu-idiomas">
            <ul class="menu-idiomas">
                <li>
                  <a href="tutorial.html" class="pt">
                    <img src="imagens/brasil.png" alt="Portuguese" class="bandeira">
                  </a>
                </li>
                <li>
                    <a href="https://hackinsdn.ufba.br/en2/Instala%C3%A7%C3%A3o%20e%20Tutoriais/Tests%20Contention%20Block/contention.html" class="en ativo" target="_blank">
                    <img src="imagens/Americana.png" alt="English" class="bandeira">
                  </a>
                </li>
              </ul>
          </nav>
          
    </header>

    <div class="container">

        <section class="tutorial-content">
            <h1>CONTENTION BLOCK TESTS (BLOCK ACTION)</h1>
            
            <div class="step">
                <h2>TEST 01:</h2>
                <p>To create a contention to block VLAN 100 traffic on port 1 of switch <code>00:00:00:00:00:00:00:01</code>, execute the following command:</p>
                <pre><code>curl -H 'Content-type: application/json' -X POST http://127.0.0.1:8181/api/hackinsdn/containment/v1 -d '{"switch": "00:00:00:00:00:00:00:01", "interface": 1, "match": {"vlan": 100}}'</code></pre>
                <p>Result: "contention created successfully ID 6a3c2d9afdd94136"</p>
                <p>Remove the block (only by the rule ID):</p>
                <pre><code>curl -H 'Content-type: application/json' -X DELETE http://127.0.0.1:8181/api/hackinsdn/containment/v1 -d '{"block_id": "6a3c2d9afdd94136"}'</code></pre>
                <p>Result: "contention deleted successfully ID 6a3c2d9afdd94136"</p>
            </div>
        
            <div class="step">
                <h2>TEST 02:</h2>
                <p>To create a contention to block IPv4 traffic <code>10.1.0.254</code> on VLAN 100 on port 1 of switch <code>00:00:00:00:00:00:00:01</code>, execute the following command:</p>
                <pre><code>curl -H 'Content-type: application/json' -X POST http://127.0.0.1:8181/api/hackinsdn/containment/v1 -d '{"switch": "00:00:00:00:00:00:00:01", "interface": 1, "match": {"vlan": 100, "ipv4_dst": "10.1.0.254"}}'</code></pre>
                <p>Result: "contention created successfully ID 85b47cd567bb4b44"</p>
            </div>
        
            <div class="step">
                <h2>TEST 03:</h2>
                <p>To create a contention to block IPv4 traffic <code>10.1.0.254</code> on VLAN 100 and UDP protocol on port 1 of switch <code>00:00:00:00:00:00:00:01</code>, execute the following command:</p>
                <pre><code>curl -H 'Content-type: application/json' -X POST http://127.0.0.1:8181/api/hackinsdn/containment/v1 -d '{"switch": "00:00:00:00:00:00:00:01", "interface": 1, "match": {"vlan": 100, "ipv4_dst": "10.1.0.254", "ip_proto":17}}'</code></pre>
                <p>Result: "contention created successfully ID 8b47dda543cc4ad3"</p>
            </div>
        
            <div class="step">
                <h2>TEST 04:</h2>
                <p>To list the existing contentions, execute the following command (two options):</p>
                <pre><code>curl -s http://127.0.0.1:8181/api/hackinsdn/containment/v1/ or curl -X GET -H 'Content-type: application/json' http://127.0.0.1:8181/api/hackinsdn/containment/v1/</code></pre>
            </div>
        
            <div class="step">
                <h2>TEST 05:</h2>
                <p>The NAPP does not allow duplicate rules to be created:</p>
                <p>Add rule:</p>
                <pre><code>curl -H 'Content-type: application/json' -X POST http://127.0.0.1:8181/api/hackinsdn/containment/v1 -d '{"switch": "00:00:00:00:00:00:00:01", "interface": 1, "match": {"vlan": 100}}'</code></pre>
                <p>Result: "contention created successfully ID 6a3c2d9afdd94136"</p>
                <p>Add the same rule again:</p>
                <pre><code>curl -H 'Content-type: application/json' -X POST http://127.0.0.1:8181/api/hackinsdn/containment/v1 -d '{"switch": "00:00:00:00:00:00:00:01", "interface": 1, "match": {"vlan": 100}}'</code></pre>
                <p>Result: "RULE already exists in the list. Contention doesn’t created"</p>
            </div>
        
            <div class="step">
                <h2>TESTS with IPV6:</h2>
                <p>In addition to the presented tests, it is also possible to create rules with match for IPV6. For this, consider VLAN101. You can also add "ipv6_src" or "ipv6_dst" in the match.</p>
            </div>
        </section>
    </div>
</body>
</html>
